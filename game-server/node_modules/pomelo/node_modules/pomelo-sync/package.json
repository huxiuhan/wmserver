{
  "name": "pomelo-sync",
  "version": "0.0.3",
  "dependencies": {},
  "readme": "#data-sync\ndata sync module is simple sync memory data into store engine like mysql,redis,file.\n\nAs we known, updating data is very frequently in game application. Especial in MMORPG kind game. User game data,such as location,flood,equipment,etc. almost always change as time going. For the purpose of avoid such update action cost, we decide to keep a copy data in memory. And keep synchronized with a timer and log;\n\nData sync can support both timer call and instance invoke for the different\nsituation. Most of time the developer don't pay attention to it;\n\nData sync also can support memory operation like NOSQL database such as\nredis,mongodb etc. most of time developer can seem as a memory database without\ntransaction.\n\nData sync features include timer sync,set,get,mset,mget,hset,hget,incr,decr,flush,merger,showdown,info,etc. and the developer can extend it very easily.\n\n##Installation\n```\nnpm install pomelo-sync\n```\n\n##Usage\n``` javascript\n\nvar opt = opt || {};\n\nvar updateUser = function(dbclient,val) {\n    console.log('mock save %j',val);\n}\n\nvar dbclient = {};//db connection etc;\nvar id = 10001;\nvar optKey = 'updateUser';\nvar mapping = {optKey:updateUer}; //key function mapping \nopt.mapping = mapping;\nopt.client = dbclient;\nopt.interval = 2000;\n\nvar Sync = require('pomelo-sync');\nvar sync = new Sync(opt) ;\nsync.exec(optKey,id,{name:'hello'});\n\n``` \n\n##API\n###sync.exec(key,id,val,cb)\nAdd a object to sync for timer exec call back. \n####Arguments\n+ key - the key function mapping for wanted to call back,it must be unique.\n+ id - object primary key for merger operation. \n+ val -  the object wanted to synchronized. \n+ cb - the function call back when timer exec.\n\n###sync.flush(key,id,val,cb)\nimmediately synchronized the memory data with out waiting timer and will remove\nwaiting queue data;\n####Arguments\n+ key - the key function mapping for wanted to call back,it must be unique.\n+ id - object primary key for merger operation. \n+ val -  the object wanted to synchronized. \n+ cb - the function call back when timer exec.\n\n###sync.isDone\nget the db sync status when the queue is empty,it should return true;otherwise\nreturn false;\n\n  \n\n##Notice \nsystem default sync time is 1000 * 60,\nif you use mysql or redis sync,you should set options.client,the file sync is default but it doesn't load in current.\nMysql OR mapping in this modules do not support,user should realize it self.\n\n##ADD\nfor more usage detail , reading source and benchmark and test case from\nsource is recommended;\n",
  "readmeFilename": "README.md",
  "_id": "pomelo-sync@0.0.3",
  "description": "data sync module is simple sync memory data into store engine like mysql,redis,file.",
  "_from": "pomelo-sync@0.0.3"
}
