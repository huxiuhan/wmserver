{"ts":1341348399526,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var nodeunit = require('nodeunit');\n\n// testrunner copied from nodeunit and edited a little\nvar run = function(files){\n\n    var red   = function(str){return \"\\033[31m\" + str + \"\\033[39m\"};\n    var green = function(str){return \"\\033[32m\" + str + \"\\033[39m\"};\n    var bold  = function(str){return \"\\033[1m\" + str + \"\\033[22m\"};\n\n    nodeunit.reporters['default'].run(files, undefined, function (error) {\n      cleanup(function () {\n        redis.end();\n        process.exit();\n      });\n    });\n};\n\n\nvar args = require(__dirname+'/testArgs.js');\n\nvar runner = function () {\n  process.chdir(__dirname);\n  run(['featureTests.js', 'validationTests.js', 'relationTests.js', 'findTests.js', 'connectTests.js', 'metaTests.js', 'pubsubTests.js']);\n};\n\n\nvar redis = args.redis,\n    cleanup = function (cb, force) {\n      if ( ! force && args.noCleanup === true)\n        return cb();\n      require('./helper.js').cleanUp(redis, args.prefix, cb);\n    },\n    Nohm = require(__dirname+'/../lib/nohm').Nohm;\n    Nohm.setPrefix(args.prefix);\ncleanup(runner, true);\n"]],"start1":0,"start2":0,"length1":0,"length2":1049}]],"length":1049}
